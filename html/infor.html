<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/trangchu.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../css/infor.css">
</head>
<style>
    .nft-image {
        width: 190px;
        height: 250px;
    }

    .nft-card-container {
        margin-left: 30px;
    }

    .navbar-nav .nav-link,
    .navbar-brand {
        color: white !important;
        /* Đổi màu chữ thành màu trắng */
    }

    /* Màu chữ khi hover / */
    .navbar-nav .nav-link:hover {
        color: yellow !important;
    }

    /* / Màu chữ khi active / */
    .navbar-nav .nav-link.active {
        color: red !important;
    }
</style>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-dark">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto ">
                <li class="nav-item ">
                    <a class="nav-link" href="trangchu.html">Home <span class="sr-only"></span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="infor.html">MY COLLECTION</a>
                </li>
            </ul>
            <form class="form-inline">
                <button class="btn btn-outline-success" onclick="connectWallet()" type="button">Connect Wallet</button>
            </form>
        </div>
    </nav>
    <div id="main">
        <div class="container">
            <div>
                <ol style="display: flex; padding: 10px; list-style: none; align-items: center;">
                    <li style="padding: 10px;">
                        <a href="" style="text-decoration: none; color: black;">Home</a>
                    </li>
                    <li style="padding: 1px;">
                        <a href="" style="text-decoration: none; color: black;">></a>
                    </li>
                    <li style="padding: 10px;">
                        <a href="" style="text-decoration: none; color: black;">My account</a>
                    </li>
                </ol>
            </div>
            <div class="mt-40">
                <div class="row">
                    <div class="col-lg-4 col-xl-auto">
                        <div class="oder-sidemenu"
                            style="max-width: 270px; width: 100%; padding: 32px; border: 1px solid #e7e8e9; border-radius: 32px 0px;">
                            <div class="oder-sidemenu-menu-user"
                                style="align-items: center; display: flex; padding-bottom: 24px;">
                                <div class="oder-sidemenu-menu-avatar"
                                    style="width: 32px; height: 32px; border-radius: 50%; overflow: hidden;">
                                    <img src="/image/user-avatar-placeholder.png" alt=""
                                        style="border: none; max-width: 100%; height: auto;">
                                </div>
                                <div class="oder-sidemenu-menu-name" style="padding-left: 12px;">
                                    <p style="font-weight: 600; font-size: 16px; line-height: 24px; margin-bottom: 0;">
                                        Lê Vĩ Phú</p>
                                </div>
                            </div>
                            <div class="oder-sidemenu-menu-menu">
                                <ul>
                                    <li> <a href="infor.html">
                                            <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                    fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                                                    <path
                                                        d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z" />
                                                </svg></span>Information Account</a></li>
                                    <li> <a href="history.html"> <span><svg xmlns="http://www.w3.org/2000/svg"
                                                    width="16" height="16" fill="currentColor" class="bi bi-file-lock"
                                                    viewBox="0 0 16 16">
                                                    <path
                                                        d="M8 5a1 1 0 0 1 1 1v1H7V6a1 1 0 0 1 1-1zm2 2.076V6a2 2 0 1 0-4 0v1.076c-.54.166-1 .597-1 1.224v2.4c0 .816.781 1.3 1.5 1.3h3c.719 0 1.5-.484 1.5-1.3V8.3c0-.627-.46-1.058-1-1.224zM6.105 8.125A.637.637 0 0 1 6.5 8h3a.64.64 0 0 1 .395.125c.085.068.105.133.105.175v2.4c0 .042-.02.107-.105.175A.637.637 0 0 1 9.5 11h-3a.637.637 0 0 1-.395-.125C6.02 10.807 6 10.742 6 10.7V8.3c0-.042.02-.107.105-.175z" />
                                                    <path
                                                        d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z" />
                                                </svg></span>History Login</a></li>
                                    <li> <a href="manage.html"> <span><svg xmlns="http://www.w3.org/2000/svg" width="16"
                                                    height="16" fill="currentColor" class="bi bi-arrow-repeat"
                                                    viewBox="0 0 16 16">
                                                    <path
                                                        d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z" />
                                                    <path fill-rule="evenodd"
                                                        d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z" />
                                                </svg></span>Manager Ticket</a></li>
                                    <li> <a href="favorite.html"> <span><svg xmlns="http://www.w3.org/2000/svg"
                                                    width="16" height="16" fill="currentColor" class="bi bi-heart"
                                                    viewBox="0 0 16 16">
                                                    <path
                                                        d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                                                </svg></span>Event Favorite</a></li>
                                            <li> <a href="favorite.html"> <span><svg xmlns="http://www.w3.org/2000/svg"
                                                width="16" height="16" fill="currentColor" class="bi bi-heart"
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                                            </svg></span>Level</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-8 col-xl">
                        <div class="oder-block-title">
                            <h2>COLLECTION</h2>
                        </div>
                        <DIV>
                            <ul id="outputContainer" class="row"></ul>
                        </DIV>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <footer class="container" style="margin-top: 70px;">
        <div class="row">
            <div class="col-3">
                <p>Công ty Cổ phần Dự Kim với số đăng ký kinh doanh: 0105777650</p>
                <p>Địa chỉ đăng ký: Tổ dân phố Tháp, P.Đại Mỗ, Q.Nam Từ Liêm, TP.Hà Nội, Việt Nam</p>
                <p>Số điện thoại: 0243 205 2222/ 090 589 8683</p>
                <p>Email: cskh@ivy.com.vn</p>

            </div>
            <div class="col-2">
                <h3>Giới thiệu</h3>
                <p>Về NFT Ticket Matketplace</p>
                <p>Tuyển dụng</p>
                <p>Hệ thống của hàng</p>
            </div>
            <div class="col-3">
                <h3>Dịch vụ khách hàng</h3>
                <p>Chính sách điều khoản</p>
                <p>Hướng dẫn mua hàng</p>
                <p>Chính sách thanh toán</p>
                <p>Chính sách đổi trả</p>
                <p>Chính sách bảo hành</p>
                <p>Chính sách giao hành vận chuyển</p>
                <p>Chính sách thẻ thành viên</p>
                <p>Hệ thống cửa hàng</p>
                <p>Q&A</p>
            </div>
            <div class="col-2">
                <h3>Liên hệ</h3>
                <p>Hotline</p>
                <p>Email</p>
                <p>Live Chat</p>
                <p>Messenger</p>
                <p>Liên hệ</p>
            </div>
            <div class="col-2" style="border-radius: 50px 10px; border: solid; height: 300px;">
                <h4 style="margin-top: 40px;">Nhận thông tin chương trình</h4>
                <input style="margin-top: 20px;" type="email" placeholder="Nhập địa chỉ email">
                <button style="margin-top: 20px; border-radius: 20px 2px; float: right;" type="button"
                    class="btn btn-outline-dark">Dark</button>
            </div>
        </div>

    </footer>

</body>
<SCript>
    let publicKey;
    const SHYFT_API_KEY = "FvtQ-DsN9H3YDIYw";
    const toTransaction = (encodedTransaction) => solanaWeb3.Transaction.from(Uint8Array.from(atob(encodedTransaction), c => c.charCodeAt(0)));
    (async () => {
        await window.phantom.solana.connect();
        publicKey = window.phantom.solana.publicKey.toBase58(); //[1,1,1,1]
        console.log(publicKey);
        readall();
    })();

    const readall = async () => {
        var myHeaders = new Headers();
        myHeaders.append("x-api-key", SHYFT_API_KEY);

        var requestOptions = {
            method: 'GET',
            headers: myHeaders,
            redirect: 'follow'
        };

        fetch("https://api.shyft.to/sol/v1/nft/read_all?network=devnet&address=" + publicKey, requestOptions)
            .then(response => response.json())
            .then(data => {
                // Xử lý dữ liệu ở đây
                console.log(data.result); // In ra console để kiểm tra
                // Gọi hàm để xuất dữ liệu ra HTML
                displayDataInHtml(data.result);
            })

            .catch(error => console.log('error', error));
    }
    function displayDataInHtml(resultData) {
        // Lấy phần tử HTML để hiển thị dữ liệu
        const outputContainer = document.getElementById('outputContainer');

        // Xóa nội dung hiện tại của container (nếu có)
        outputContainer.innerHTML = '';

        // Lặp qua từng mục trong resultData và thêm nó vào container
        resultData.forEach(item => {
            // Tạo một div làm container cho card
            const cardContainer = document.createElement('div');
            cardContainer.classList.add('col-2', 'nft-card-container');

            // Tạo một phần tử div để hiển thị thông tin như "MỚI"
            const infoTicket = document.createElement('div');
            infoTicket.classList.add('info-ticket');
            infoTicket.textContent = 'MỚI'; // Thay bằng thông tin thực tế

            // Tạo một phần tử img
            const imageElement = document.createElement('img');
            imageElement.src = item.image_uri;
            imageElement.alt = item.name;
            imageElement.classList.add('img-items', 'nft-image'); // Thêm lớp CSS "nft-image" (nếu có)

            // Tạo một phần tử p cho biểu tượng trái tim
            const heartIcon = document.createElement('p');
            heartIcon.style.fontSize = '20px';
            heartIcon.innerHTML = '<i class="bi bi-heart" style="float: right;"></i>';

            // Tạo một phần tử p cho tên NFT
            const itemName = document.createElement('p');
            itemName.id = 'items-name';
            itemName.textContent = item.name;

            // Tạo một phần tử p cho giá
            const itemPrice = document.createElement('p');
            itemPrice.id = 'items-price';
            itemPrice.textContent = item.price; // Thay bằng thông tin giá thực tế

            // Tạo một nút mua
            const buyButton = document.createElement('button');
            buyButton.id = 'items-btn';
            buyButton.type = 'button';
            buyButton.classList.add('btn', 'btn-outline-dark');
            buyButton.innerHTML = '<i class="bi bi-cart2"></i>';
            buyButton.addEventListener('click', function () {
                event.preventDefault();
                transfer(item.mint); // Truyền dữ liệu cần thiết từ item hoặc từ resultData
            });

            // Thêm các phần tử vào card container
            cardContainer.appendChild(infoTicket);
            cardContainer.appendChild(imageElement);
            cardContainer.appendChild(heartIcon);
            cardContainer.appendChild(itemName);
            cardContainer.appendChild(itemPrice);
            cardContainer.appendChild(buyButton);

            // Thêm card container vào container chính
            outputContainer.appendChild(cardContainer);
        });
    }



</SCript>

</html>